```sheet
|  ▷▶▷▶ Query 실행 순서 ▷▶▷▶  | < | < | < | < | < | < | < | < | < |
| :----: | :------: | :---------------: | :------: | :------------: | :------: | :---------------: | :------: | :------------: | :------------: |
|  [With](1.%20With)  |   [From](2.%20From%20&%20Join)   |       [Where](3.%20Where%20&%20Group%20By%20&%20Having#^where)       | [Group by](3.%20Where%20&%20Group%20By%20&%20Having#^groupby) |     [Having](3.%20Where%20&%20Group%20By%20&%20Having#^having)     | [Select](4.%20Select) | [Distinct](연산자#^distinct) | [Union / Union all](연산자#^union) | [Order by](5.%20Order%20By%20&%20Offset%20&%20Limit#^orderby) | [Offset](5.%20Order%20By%20&%20Offset%20&%20Limit#^offset) / [Limit](5.%20Order%20By%20&%20Offset%20&%20Limit#^limit) |
```
 - **From 절**
	 - 출력 데이터를 검색할 Table 을 지정
	 - Table 을 3개 이상 사용 시 Join 사용을 권장
	 - Table 에 약어를 추가하여 효율적인 쿼리 작성이 가능

<p></p>

 - **Join**
	 - Multi Table 출력
	 - 다중 Join 사용 시 성능 저하
	 - Join 사용 시 다른 Join을 섞어서 사용하는 건 불가 ( Left join 에는 Left Join 만)
		 - 기본 Join / Inner Join 
			 - 연결된 Table의 일치하는 행만 연결
				 - 일치하지 않는 행은 연결되지 않고 출력되지 않음
			 - Join 만 작성하여도 Inner Join 을 사용하지만 가독성을 위해 Inner Join 사용
		 - Natural Join
			 - 연결하는 Table의 모든 column을 확인 후 연결된 Column을 제외하고 연결하여 출력
			 - `select empno, ename, dname, deptno from emp natural join dept`
			 - Left Join 보다 나은 최적화가 가능
	 - Table 구조 설계(MAP)를 해놓고 Main Table 지정을 해야 오류 없이 원하는 결과 출력
	 - ![[Pasted image 20251224155000.png]]


![[Pasted image 20251224155130.png]]
```sql
SELECT 
      e.emp_id           AS 사번
    , e.emp_name      AS 성명
    , e.dept_code       AS 부서코드
    , d.dept_name      AS 부서명
    , d.parent_dept     AS 상위부서코드
    , pd.dept_name    AS 상위부서명         -- 상위부서 테이블(pd)에서 가져옴
    , pd.boss_id         AS 상위부서장코드   -- 상위부서 테이블(pd)에서 가져옴
    , b.emp_name      AS 상위부서장성명   -- 상위부서장 사원 정보(b)에서 가져옴
FROM temp e
LEFT JOIN tdept d 
  ON e.dept_code = d.dpt_code              
  -- 1. 사원(e)과 부서(d) 연결
LEFT JOIN tdept pd 
  ON d.parent_dept = pd.dpt_code          
  -- 2. 부서(d)와 상위부서(pd) 연결 (Self Join)
LEFT JOIN temp b 
  ON pd.boss_id = b.emp_id                  
  -- 3. 상위부서장(pd)과 사원정보(b) 연결
WHERE d.parent_dept = 'CA0001'           
-- 상위부서가 'CA0001'인 경우만 필터링
ORDER BY e.emp_id;
```