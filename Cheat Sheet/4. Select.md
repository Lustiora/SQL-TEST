```sheet
|  ▷▶▷▶ Query 실행 순서 ▷▶▷▶  | < | < | < | < | < | < | < | < | < |
| :----: | :------: | :---------------: | :------: | :------------: | :------: | :---------------: | :------: | :------------: | :------------: |
|  [With](1.%20With)  |   [From](2.%20From%20&%20Join)   |       [Where](3.%20Where%20&%20Group%20By%20&%20Having#^where)       | [Group by](3.%20Where%20&%20Group%20By%20&%20Having#^groupby) |     [Having](3.%20Where%20&%20Group%20By%20&%20Having#^having)     | [Select](4.%20Select) | [Distinct](연산자#^distinct) | [Union / Union all](연산자#^union) | [Order by](5.%20Order%20By%20&%20Offset%20&%20Limit#^orderby) | [Offset](5.%20Order%20By%20&%20Offset%20&%20Limit#^offset) / [Limit](5.%20Order%20By%20&%20Offset%20&%20Limit#^limit) |
```
 - 구문에 별칭을 사용하여 조건으로 사용이 불가능한 경우 구문 전체를 입력해야 인식
 - Case when
	 - https://suy379.tistory.com/110
	 - https://gent.tistory.com/435
	 - 작성시 end로 구문 종료
	 - LIKE 구문 사용 가능
	 - IF 방식
		 - Else 부분은 생략이 가능
		 - 산술연산자 (+, -, *, /, ...), 집계함수 (sum, max, min, avg, ...), 비교 연산자 (>, <, =, <>), NULL 연산자 (IS NULL, IS NOT NULL), 논리 연산자를 사용하여 조건을 부여할 수 있음
```sql
select 
empno as 사번
, ename as 이름
, deptno
, case when deptno = 10 then '공동4등'
	 when deptno = 20 then '공동3등'
	 when deptno = 30 then '공동2등'
	 when deptno = 40 then '공동1등'
	 else '완주실패'
	 end as 평가점수
from emp
order by deptno desc;
```
- ![[Pasted image 20251224160008.png]]
- 출력 결과

```sql
SELECT
	product_name,
	price,
	CASE
		WHEN stock_quantity < 100 THEN price * 0.9  
		-- 10% 할인 산술 연산
		ELSE price * 0.95                                         
		-- 5% 할인 산술 연산
	END
SELECT
	order_id,
	item_price,
	quantity,
	-- 주문 금액이 100000원을 초과하는지 판단
	CASE
		WHEN item_price * quantity > 100000 THEN '고액 주문' 
	-- 산술 연산으로 100000 초과 여부 판단
		WHEN item_price * quantity >= 50000 THEN '중액 주문'
		ELSE '일반 주문'
	END
	```
 - 
	 - And 를 사용하여 다중 조건 부여 가능
		`case when deptno = 20 and sal = 3000 then '공동3등'`
		![[Pasted image 20251224160019.png]]
- Concat
	- 문자열 추가를 위해 사용
		- `Concat(max(length),'cm')`
		- Length 최대값에 cm을 붙여서 출력
- ROW_NUMBER
	- 그룹별 순번을 지정할 때 사용
	- `Select row_number() over(partition by A order by B)`
		- A 컬럼 값이 동일한 것을 그룹화하고 B컬럼 값을 기준으로 정렬
